<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Welcome</title>
    <url>/2020/10/20/Welcome/</url>
    <content><![CDATA[<h2 id="Welcome"><a href="#Welcome" class="headerlink" title="Welcome !"></a>Welcome !</h2><p>have a good time.</p>
]]></content>
      <categories>
        <category>Testing</category>
      </categories>
      <tags>
        <tag>test</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/11/19/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><a id="more"></a>

<h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>搭建hexo+git过程</title>
    <url>/2020/10/20/%E6%90%AD%E5%BB%BAhexo-git%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<p>Hexo是一款基于Node.js的快速，简单而强大的博客框架。我们可以使用Markdown（或其他语言）编写文章，可以方便的生成静态网页托管在GitHub上。</p>
<p>此文是记录一下采用得文档，以及一些问题得处理。</p>
<ul>
<li><p>主要参考的是：<a href="https://peithon.github.io/2018/05/16/blog-setup/">https://peithon.github.io/2018/05/16/blog-setup/</a></p>
<p>不过要注意使用最新版的Nodejs, 当时最新版为14.14.0，可能会变化，打开<code>https://nodejs.org/dist/latest/</code>查看即可</p>
<p><code>wget https://nodejs.org/dist/latest/node-v14.14.0-linux-x64.tar.xz</code></p>
</li>
<li><p>安装萌妹子 <a href="https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md">https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md</a></p>
</li>
<li><p>备份参考的是： <a href="https://www.zhihu.com/question/21193762/answer/489124966">https://www.zhihu.com/question/21193762/answer/489124966</a></p>
</li>
</ul>
<p>continue</p>
]]></content>
      <tags>
        <tag>git</tag>
        <tag>hexo 博客</tag>
      </tags>
  </entry>
  <entry>
    <title>解决mstsc(windows远程)CredSSP加密问题</title>
    <url>/2021/01/13/%E8%A7%A3%E5%86%B3mstsc-windows%E8%BF%9C%E7%A8%8B-CredSSP%E5%8A%A0%E5%AF%86%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>Win10远程桌面出现身份验证错误：要求的函数不受支持，这可能是由于CredSSP加密Oracle修正 解决方法</p>
<p><img src="/images/CredSSP.png" alt="img"></p>
<p>网上方案很多，不过最合适的方案是：<a href="https://github.com/stascorp/rdpwrap/issues/480">https://github.com/stascorp/rdpwrap/issues/480</a></p>
<p>开始输入cmd，使用管理员打开，输入 </p>
<p><code>REG ADD HKLM\Software\Microsoft\Windows\CurrentVersion\Policies\System\CredSSP\Parameters\ /v AllowEncryptionOracle /t REG_DWORD /d 2</code></p>
<p>回车即可。</p>
]]></content>
  </entry>
  <entry>
    <title>记录一次诡异的https传图跨域问题</title>
    <url>/2020/12/17/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E8%AF%A1%E5%BC%82%E7%9A%84https%E4%BC%A0%E5%9B%BE%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>公司有个需求，将windows的传图接口改造到centos（都为阿里云EC）， 基本配置如下：</p>
<blockquote>
<p>CentOS Linux release 7.8.2003 (Core)</p>
<p>Server version: Apache/2.4.46 (codeit)</p>
<p>PHP 7.3.25 (cli) (built: Nov 24 2020 11:10:55) ( NTS )</p>
</blockquote>
<p>有个奇怪的问题是，功能代码在windows下http,https 传图都没问题，在centos下http传图没有问题，https传图会偶尔出现跨域提醒<img src="/images/error.jpg" alt="错误提醒">, 结合网络的答案各种折腾，php header重新设置、设置阿里云OSS跨域、apache升级等等，甚至还想改造代码，设置代理，更换apache为nginx等。不过这样的话动作太大，也没有准确定位到问题，没有动。</p>
<p>对于这种偶发性的问题，一开始觉得apache的配置应该是没有问题的，可能出在其他的地方，不过测试了几种方案后感觉还是应该修改配置，毕竟是和ssl证书相关，我是把VirtualHost 单独配置的，想着如果windows配置没有问题，那会不会某些默认配置没有启用导致，想到就把VirtualHost 配置合并，之后就没在出现传图失败了。</p>
<p>再查看配置找寻原因，注意到ssl.conf默认配置中有这样的内容</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#   SSL Protocol Adjustments:</span><br><span class="line">#   The safe and default but still SSL&#x2F;TLS standard compliant shutdown</span><br><span class="line">#   approach is that mod_ssl sends the close notify alert but doesn&#39;t wait for</span><br><span class="line">#   the close notify alert from client. When you need a different shutdown</span><br><span class="line">#   approach you can use one of the following variables:</span><br><span class="line">#   o ssl-unclean-shutdown:</span><br><span class="line">#     This forces an unclean shutdown when the connection is closed, i.e. no</span><br><span class="line">#     SSL close notify alert is send or allowed to received.  This violates</span><br><span class="line">#     the SSL&#x2F;TLS standard but is needed for some brain-dead browsers. Use</span><br><span class="line">#     this when you receive I&#x2F;O errors because of the standard approach where</span><br><span class="line">#     mod_ssl sends the close notify alert.</span><br><span class="line">#   o ssl-accurate-shutdown:</span><br><span class="line">#     This forces an accurate shutdown when the connection is closed, i.e. a</span><br><span class="line">#     SSL close notify alert is send and mod_ssl waits for the close notify</span><br><span class="line">#     alert of the client. This is 100% SSL&#x2F;TLS standard compliant, but in</span><br><span class="line">#     practice often causes hanging connections with brain-dead browsers. Use</span><br><span class="line">#     this only for browsers where you know that their SSL implementation</span><br><span class="line">#     works correctly. </span><br><span class="line">#   Notice: Most problems of broken clients are also related to the HTTP</span><br><span class="line">#   keep-alive facility, so you usually additionally want to disable</span><br><span class="line">#   keep-alive for those clients, too. Use variable &quot;nokeepalive&quot; for this.</span><br><span class="line">#   Similarly, one has to force some clients to use HTTP&#x2F;1.0 to workaround</span><br><span class="line">#   their broken HTTP&#x2F;1.1 implementation. Use variables &quot;downgrade-1.0&quot; and</span><br><span class="line">#   &quot;force-response-1.0&quot; for this.</span><br><span class="line">BrowserMatch &quot;MSIE [2-5]&quot; \</span><br><span class="line">         nokeepalive ssl-unclean-shutdown \</span><br><span class="line">         downgrade-1.0 force-response-1.0</span><br></pre></td></tr></table></figure>

<p>大意就是mod_ssl会关闭与浏览器的连接，保持连接的一种设置（实在是没有Google到合适的中文解释   - -!）。之后测试了上百张图片也没有再复现问题，就暂时告一段落。</p>
]]></content>
  </entry>
  <entry>
    <title>阿里云证书到期更换</title>
    <url>/2021/02/02/%E9%98%BF%E9%87%8C%E4%BA%91%E8%AF%81%E4%B9%A6%E5%88%B0%E6%9C%9F%E6%9B%B4%E6%8D%A2/</url>
    <content><![CDATA[<p>  公司证书临近到期，需更换：</p>
<ol>
<li><p>免费证书无法续期，需重新申请，</p>
</li>
<li><p>证书申请走正常流程，详情请点击 <a href="https://help.aliyun.com/document_detail/28544.html">到期续费及更新（手动）</a> ，</p>
</li>
<li><p>详细操作都已经包含，当证书更换完成后，检查下自己的证书部署，<strong>如果开启了WAF，切记部署！</strong></p>
</li>
</ol>
<p>以上省略了阿里云的证书安装，假设需要到期更换，说明是已经安装过了，如果需要安装参考 </p>
<p><a href="https://help.aliyun.com/document_detail/109827.html">SSL证书安装指南</a></p>
<p>文档里其实都有说明，不过实际操作中容易出现的情况是申请，更换，重启web服务后发现证书未生效，忘记自己的WAF需要部署（网上也有类似情况，<a href="https://blog.csdn.net/yunqinghua2/article/details/106135269">这位朋友花了很久</a>），记录一下作为备忘。</p>
]]></content>
      <tags>
        <tag>运维</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2021/10/15/see_you_again/</url>
    <content><![CDATA[<h2 id="See-you-again"><a href="#See-you-again" class="headerlink" title="See you again"></a>See you again</h2>]]></content>
  </entry>
</search>
